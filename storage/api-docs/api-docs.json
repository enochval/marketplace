{"openapi":"3.0.0","info":{"title":"Timbala","description":"This is the service definitions for Timbala.  You can find out more about Timbala at [https:\/\/timbala.now.sh](https:\/\/timbala.now.sh).  For this documentaion, you can use the api key `special-key` to test the authorization filters.","termsOfService":"http:\/\/swagger.io\/terms\/","contact":{"email":"osarenrenenoch@gmail.com"},"license":{"name":"Apache 2.0","url":"http:\/\/www.apache.org\/licenses\/LICENSE-2.0.html"},"version":"1.0.0"},"servers":[{"url":"https:\/\/timbala-api.herokuapp.com\/api\/v1","description":"staging"},{"url":"http:\/\/0.0.0.0:8000\/api\/v1","description":"local"}],"paths":{"\/worker-registration":{"post":{"tags":["Authentication"],"summary":"Register a new worker user","description":"","operationId":"workerRegistration","requestBody":{"description":"Request object","required":true,"content":{"application\/json":{"schema":{"properties":{"first_name":{"description":"","type":"string"},"last_name":{"description":"","type":"string"},"email":{"description":"","type":"string"},"phone":{"description":"","type":"string"},"password":{"description":"","type":"string"},"password_confirmation":{"description":"","type":"string"}},"type":"object"}}}},"responses":{"200":{"description":"Returns response object","content":{"application\/json":{"schema":{}}}},"422":{"description":"Error: Unproccessble Entity. When required parameters were not supplied correctly.","content":{"application\/json":{"schema":{}}}}}}},"\/confirm-email":{"post":{"tags":["Authentication"],"summary":"Verify user's e-mail","description":"","operationId":"verifyEmail","requestBody":{"description":"Request object","required":true,"content":{"application\/json":{"schema":{"properties":{"token":{"description":"Token","type":"string"}},"type":"object"}}}},"responses":{"200":{"description":"Returns response object","content":{"application\/json":{"schema":{}}}},"422":{"description":"Error: Unproccessble Entity. When required parameters were not supplied correctly.","content":{"application\/json":{"schema":{}}}}}}},"\/authenticate":{"post":{"tags":["Authentication"],"summary":"Authenticate existing user","description":"","operationId":"login","requestBody":{"description":"Request object","required":true,"content":{"application\/json":{"schema":{"properties":{"email":{"description":"Accepts email or phone","type":"string"},"password":{"description":"","type":"string"}},"type":"object"}}}},"responses":{"200":{"description":"Returns response object","content":{"application\/json":{"schema":{}}}},"422":{"description":"Error: Unproccessble Entity. When required parameters were not supplied correctly.","content":{"application\/json":{"schema":{}}}}}}},"\/employer-registration":{"post":{"tags":["Authentication"],"summary":"Register a new employer user","description":"","operationId":"employerRegistration","requestBody":{"description":"Request object","required":true,"content":{"application\/json":{"schema":{"properties":{"first_name":{"description":"","type":"string"},"last_name":{"description":"","type":"string"},"email":{"description":"","type":"string"},"phone":{"description":"","type":"string"},"password":{"description":"","type":"string"},"password_confirmation":{"description":"","type":"string"}},"type":"object"}}}},"responses":{"200":{"description":"Returns response object","content":{"application\/json":{"schema":{}}}},"422":{"description":"Error: Unproccessble Entity. When required parameters were not supplied correctly.","content":{"application\/json":{"schema":{}}}}}}},"\/agent-registration":{"post":{"tags":["Authentication"],"summary":"Register a new agent user","description":"","operationId":"agentRegistration","requestBody":{"description":"Request object","required":true,"content":{"application\/json":{"schema":{"properties":{"first_name":{"description":"","type":"string"},"last_name":{"description":"","type":"string"},"email":{"description":"","type":"string"},"phone":{"description":"","type":"string"},"password":{"description":"","type":"string"},"password_confirmation":{"description":"","type":"string"}},"type":"object"}}}},"responses":{"200":{"description":"Returns response object","content":{"application\/json":{"schema":{}}}},"422":{"description":"Error: Unproccessble Entity. When required parameters were not supplied correctly.","content":{"application\/json":{"schema":{}}}}}}},"\/utils\/cities":{"get":{"tags":["Common"],"summary":"Get available cities","description":"","operationId":"cities","responses":{"200":{"description":"Returns response object","content":{"application\/json":{"schema":{}}}}}}},"\/utils\/categories":{"get":{"tags":["Common"],"summary":"Get available categories","description":"","operationId":"categories","responses":{"200":{"description":"Returns response object","content":{"application\/json":{"schema":{}}}}}}},"\/job-board":{"get":{"tags":["Job Board Operations"],"summary":"Get my jobs","description":"Can only be performed by a worker and employer","operationId":"myJobs","parameters":[{"name":"per_page","in":"query","description":"Number per page","schema":{"type":"integer","format":"int64"}},{"name":"order_by","in":"query","description":"Order by a column","schema":{"type":"string"}},{"name":"sort","in":"query","description":"desc or asc","schema":{"type":"string"}}],"responses":{"200":{"description":"Returns response object","content":{"application\/json":{"schema":{}}}}},"security":[{"authorization_token":[]}]},"post":{"tags":["Job Board Operations"],"summary":"Create a new job post","description":"Can only be performed by a employer","operationId":"createJjobBoard","requestBody":{"description":"Request object","required":true,"content":{"application\/json":{"schema":{"properties":{"title":{"description":"Title","type":"string"},"description":{"description":"Description","type":"string"},"duration":{"description":"Duration","type":"string"},"frequency":{"description":"Frequency","type":"string"},"budget":{"description":"Budget","type":"string"},"no_of_resource":{"description":"Number of workers needed","type":"string"},"address":{"description":"Address","type":"string"},"city":{"description":"City","type":"string"},"state":{"description":"State","type":"string"},"category_id":{"description":"Category ID","type":"string"},"gender":{"description":"Gender","type":"string"}},"type":"object"}}}},"responses":{"200":{"description":"Returns response object","content":{"application\/json":{"schema":{}}}},"422":{"description":"Error: Unproccessble Entity. When required parameters were not supplied correctly.","content":{"application\/json":{"schema":{}}}}},"security":[{"authorization_token":[]}]}},"\/job-board\/{job_id}\/update":{"patch":{"tags":["Job Board Operations"],"summary":"Update a job post","description":"Can only be performed by a employer","operationId":"updateJobBoard","parameters":[{"name":"job_id","in":"path","description":"ID of job to update","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"description":"Request object","required":true,"content":{"application\/json":{"schema":{"properties":{"title":{"description":"Title","type":"string"},"description":{"description":"Description","type":"string"},"duration":{"description":"Duration","type":"string"},"frequency":{"description":"Frequency","type":"string"},"budget":{"description":"Budget","type":"string"},"no_of_resource":{"description":"Number of workers needed","type":"string"},"address":{"description":"Address","type":"string"},"city":{"description":"City","type":"string"},"state":{"description":"State","type":"string"},"category_id":{"description":"Category ID","type":"string"},"gender":{"description":"Gender","type":"string"}},"type":"object"}}}},"responses":{"200":{"description":"Returns response object","content":{"application\/json":{"schema":{}}}},"422":{"description":"Error: Unproccessble Entity. When required parameters were not supplied correctly.","content":{"application\/json":{"schema":{}}}}},"security":[{"authorization_token":[]}]}},"\/job-board\/{job_id}\/bid":{"post":{"tags":["Job Board Operations"],"summary":"Bid for a Job","description":"Can only be performed by a worker","operationId":"BidForJob","parameters":[{"name":"job_id","in":"path","description":"ID of job to update","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"description":"Request object","required":true,"content":{"application\/json":{"schema":{"properties":{"amount":{"description":"Amount","type":"string"}},"type":"object"}}}},"responses":{"200":{"description":"Returns response object","content":{"application\/json":{"schema":{}}}},"422":{"description":"Error: Unproccessble Entity. When required parameters were not supplied correctly.","content":{"application\/json":{"schema":{}}}}},"security":[{"authorization_token":[]}]}},"\/job-board\/{job_id}\/pitches":{"get":{"tags":["Job Board Operations"],"summary":"Get all pitches of a job","description":"Can only be performed by a employer","operationId":"getJobPitches","parameters":[{"name":"job_id","in":"path","description":"ID of job to update","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Returns response object","content":{"application\/json":{"schema":{}}}}},"security":[{"authorization_token":[]}]}},"\/job-board\/{job_id}\/hire-worker\/{worker_id}":{"patch":{"tags":["Job Board Operations"],"summary":"Hire a worker","description":"Can only be performed by a employer","operationId":"hireWorker","parameters":[{"name":"job_id","in":"path","description":"ID of job to update","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"worker_id","in":"path","description":"ID of worker to hire","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Returns response object","content":{"application\/json":{"schema":{}}}}},"security":[{"authorization_token":[]}]}},"\/job-board\/{job_id}\/review-worker\/{worker_id}":{"patch":{"tags":["Job Board Operations"],"summary":"Review a worker","description":"Can only be performed by a employer","operationId":"revieweWorker","parameters":[{"name":"job_id","in":"path","description":"ID of job to update","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"worker_id","in":"path","description":"ID of worker to review","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"description":"Request object","required":true,"content":{"application\/json":{"schema":{"properties":{"no_of_stars":{"description":"No of stars","type":"string"},"remark":{"description":"Remarks","type":"string"}},"type":"object"}}}},"responses":{"200":{"description":"Returns response object","content":{"application\/json":{"schema":{}}}}},"security":[{"authorization_token":[]}]}},"\/job-board\/{job_id}\/review-employer\/{employer_id}":{"patch":{"tags":["Job Board Operations"],"summary":"Review an employer","description":"Can only be performed by a worker","operationId":"reviewEmployer","parameters":[{"name":"job_id","in":"path","description":"ID of job to update","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"employer_id","in":"path","description":"ID of employer to review","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"description":"Request object","required":true,"content":{"application\/json":{"schema":{"properties":{"no_of_stars":{"description":"No of stars","type":"string"},"remark":{"description":"Remarks","type":"string"}},"type":"object"}}}},"responses":{"200":{"description":"Returns response object","content":{"application\/json":{"schema":{}}}}},"security":[{"authorization_token":[]}]}},"\/job-board\/{job_id}\/reviews":{"get":{"tags":["Job Board Operations"],"summary":"Get my reviews of a job","description":"Can only be performed by a employer and worker","operationId":"getJobReviews","parameters":[{"name":"job_id","in":"path","description":"ID of job to update","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Returns response object","content":{"application\/json":{"schema":{}}}}},"security":[{"authorization_token":[]}]}},"\/job-board\/{job_id}\/complete":{"patch":{"tags":["Job Board Operations"],"summary":"Complete a job","description":"Can only be performed by a employer","operationId":"completeJob","parameters":[{"name":"job_id","in":"path","description":"ID of job to update","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Returns response object","content":{"application\/json":{"schema":{}}}}},"security":[{"authorization_token":[]}]}},"\/job-listing":{"get":{"tags":["Job Board Operations"],"summary":"Get all job listing","description":"Can be performed by anyone","operationId":"jobListing","parameters":[{"name":"per_page","in":"query","description":"Number per page","schema":{"type":"integer","format":"int64"}},{"name":"order_by","in":"query","description":"Order by a column","schema":{"type":"string"}},{"name":"sort","in":"query","description":"desc or asc","schema":{"type":"string"}},{"name":"query","in":"query","description":"For Job Titles or Description","schema":{"type":"string"}},{"name":"city_id","in":"query","description":"For Job Location","schema":{"type":"string"}}],"responses":{"200":{"description":"Returns response object","content":{"application\/json":{"schema":{}}}}}}},"\/admin\/jobs":{"get":{"tags":["Admin Operations"],"summary":"Get all jobs","description":"Can only be performed by an admin","operationId":"allJobs","parameters":[{"name":"per_page","in":"query","description":"Number per page","schema":{"type":"integer","format":"int64"}},{"name":"order_by","in":"query","description":"Order by a column","schema":{"type":"string"}},{"name":"sort","in":"query","description":"desc or asc","schema":{"type":"string"}}],"responses":{"200":{"description":"Returns response object","content":{"application\/json":{"schema":{}}}}},"security":[{"authorization_token":[]}]}},"\/admin\/jobs\/{job_id}\/approve":{"patch":{"tags":["Admin Operations"],"summary":"Approves a job","description":"Can only be performed by a admin","operationId":"approvejob","parameters":[{"name":"job_id","in":"path","description":"ID of job to update","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Returns response object","content":{"application\/json":{"schema":{}}}}},"security":[{"authorization_token":[]}]}},"\/admin\/jobs\/{job_id}\/reverse-approval":{"patch":{"tags":["Admin Operations"],"summary":"Reverse approval of a job","description":"Can only be performed by a admin","operationId":"reversedApproval","parameters":[{"name":"job_id","in":"path","description":"ID of job to update","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Returns response object","content":{"application\/json":{"schema":{}}}}},"security":[{"authorization_token":[]}]}},"\/dashboard-stat":{"get":{"tags":["Common"],"summary":"Get dashboard metrics","description":"","operationId":"dashboardStat","responses":{"200":{"description":"Returns response object","content":{"application\/json":{"schema":{}}}}},"security":[{"authorization_token":[]}]}},"\/top-jobs":{"get":{"tags":["Job Board Operations"],"summary":"Get top jobs","description":"","operationId":"topJobs","parameters":[{"name":"per_page","in":"query","description":"Number per page","schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Returns response object","content":{"application\/json":{"schema":{}}}}},"security":[{"authorization_token":[]}]}},"\/my-area-jobs":{"get":{"tags":["Job Board Operations"],"summary":"Get jobs in my area","description":"","operationId":"myAreaJobs","parameters":[{"name":"per_page","in":"query","description":"Number per page","schema":{"type":"integer","format":"int64"}},{"name":"order_by","in":"query","description":"Order by a column","schema":{"type":"string"}},{"name":"sort","in":"query","description":"desc or asc","schema":{"type":"string"}}],"responses":{"200":{"description":"Returns response object","content":{"application\/json":{"schema":{}}}}},"security":[{"authorization_token":[]}]}},"\/bid-status\/{job_id}":{"get":{"tags":["Job Board Operations"],"summary":"Check if a worker has applied for a job","description":"","operationId":"bidStatus","parameters":[{"name":"job_id","in":"path","description":"The Job id","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Returns response object","content":{"application\/json":{"schema":{}}}}},"security":[{"authorization_token":[]}]}},"\/profile":{"patch":{"tags":["User Management"],"summary":"Update user's profile","description":"","operationId":"profile","requestBody":{"description":"Request object","required":true,"content":{"application\/json":{"schema":{"properties":{"first_name":{"description":"First Name","type":"string"},"last_name":{"description":"Last Name","type":"string"},"avatar":{"description":"Profile Picture, accepts base64 string","type":"string"},"gender":{"description":"Gender","type":"string"},"date_of_birth":{"description":"Date of birth","type":"string"},"address":{"description":"Address","type":"string"},"city_id":{"description":"City","type":"string"},"state":{"description":"State","type":"string"},"bio":{"description":"Brief description about yourself","type":"string"},"job_interest":{"description":"Comma separated Job Interest id","type":"array","items":{"type":"string"}}},"type":"object"}}}},"responses":{"200":{"description":"Returns response object","content":{"application\/json":{"schema":{}}}},"422":{"description":"Error: Unproccessble Entity. When required parameters were not supplied correctly.","content":{"application\/json":{"schema":{}}}}},"security":[{"authorization_token":[]}]}},"\/work-history":{"post":{"tags":["User Management"],"summary":"Create work history for workers","description":"Can only be performed by a worker user","operationId":"workHistory","requestBody":{"description":"Request object","required":true,"content":{"application\/json":{"schema":{"properties":{"employer":{"description":"Employer","type":"string"},"positon":{"description":"Position","type":"string"},"start_date":{"description":"Start Date","type":"string"},"end_date":{"description":"End Date","type":"string"}},"type":"object"}}}},"responses":{"200":{"description":"Returns response object","content":{"application\/json":{"schema":{}}}},"422":{"description":"Error: Unproccessble Entity. When required parameters were not supplied correctly.","content":{"application\/json":{"schema":{}}}}},"security":[{"authorization_token":[]}]}},"\/verify-bvn":{"post":{"tags":["User Management"],"summary":"Verify user's bvn","description":"","operationId":"bvnVerification","requestBody":{"description":"Request object","required":true,"content":{"application\/json":{"schema":{"properties":{"bvn":{"description":"Bank verification number","type":"string"},"callback_url":{"description":"Callback URL to be redirected to when transaction is complete","type":"string"}},"type":"object"}}}},"responses":{"200":{"description":"Returns response object","content":{"application\/json":{"schema":{}}}},"422":{"description":"Error: Unproccessble Entity. When required parameters were not supplied correctly.","content":{"application\/json":{"schema":{}}}}},"security":[{"authorization_token":[]}]}},"\/bvn-analysis":{"get":{"tags":["User Management"],"summary":"Get bvn analysis and score","description":"","operationId":"bvnAnalysis","responses":{"200":{"description":"Returns response object","content":{"application\/json":{"schema":{}}}}},"security":[{"authorization_token":[]}]}},"\/update-password":{"patch":{"tags":["User Management"],"summary":"Change user's password","description":"","operationId":"changePassword","requestBody":{"description":"Request object","required":true,"content":{"application\/json":{"schema":{"properties":{"current_password":{"description":"Current user's password","type":"string"},"new_password":{"description":"New password","type":"string"},"new_password_confirmation":{"description":"Confirm New password","type":"string"}},"type":"object"}}}},"responses":{"200":{"description":"Returns response object","content":{"application\/json":{"schema":{}}}},"422":{"description":"Error: Unproccessble Entity. When required parameters were not supplied correctly.","content":{"application\/json":{"schema":{}}}}},"security":[{"authorization_token":[]}]}},"\/agent\/register-worker":{"post":{"tags":["Agent Operations"],"summary":"Register a worker","description":"","operationId":"agentRegisterWorker","requestBody":{"description":"Request object","required":true,"content":{"application\/json":{"schema":{"properties":{"email":{"description":"Email","type":"string"},"phone":{"description":"Phone","type":"string"},"password":{"description":"Password","type":"string"},"password_confirmation":{"description":"Confirm Password","type":"string"},"first_name":{"description":"First Name","type":"string"},"last_name":{"description":"Last Name","type":"string"},"avatar":{"description":"Avatar","type":"string"},"gender":{"description":"Gender","type":"string"},"date_of_birth":{"description":"Date of Birth","type":"string"},"address":{"description":"Address","type":"string"},"city":{"description":"City","type":"string"},"state":{"description":"State","type":"string"},"bio":{"description":"Bio","type":"string"},"job_interest":{"description":"Job Interest","type":"array","items":{"type":"string"}},"bvn":{"description":"Bank Verification Number","type":"string"},"job_history":{"description":"Job history of the worker","type":"array","items":{"properties":{"employer":{"description":"Employer","type":"string"},"position":{"description":"Position","type":"string"},"start_date":{"description":"Start Date","type":"string"},"end_date":{"description":"End Date","type":"string"}},"type":"object"}}},"type":"object"}}}},"responses":{"200":{"description":"Returns response object","content":{"application\/json":{"schema":{}}}},"422":{"description":"Error: Unproccessble Entity. When required parameters were not supplied correctly.","content":{"application\/json":{"schema":{}}}}},"security":[{"authorization_token":[]}]}},"\/agent\/workers":{"get":{"tags":["Agent Operations"],"summary":"Get an agent registered workers","description":"","operationId":"agentWorkers","responses":{"200":{"description":"Returns response object","content":{"application\/json":{"schema":{}}}}},"security":[{"authorization_token":[]}]}},"\/subscribe":{"post":{"tags":["User Management"],"summary":"Subscribe to premium membership","description":"","operationId":"subscribe","requestBody":{"description":"Request object","required":true,"content":{"application\/json":{"schema":{"properties":{"callback_url":{"description":"The url to the page to return to after payment collection","type":"string"}},"type":"object"}}}},"responses":{"200":{"description":"Returns response object","content":{"application\/json":{"schema":{}}}},"422":{"description":"Error: Unproccessble Entity. When required parameters were not supplied correctly.","content":{"application\/json":{"schema":{}}}}},"security":[{"authorization_token":[]}]}},"\/admin\/all-users":{"get":{"tags":["Admin Operations"],"summary":"Get all users","description":"Can only be performed by an admin","operationId":"getAllUsers","parameters":[{"name":"per_page","in":"query","description":"Number per page","schema":{"type":"integer","format":"int64"}},{"name":"order_by","in":"query","description":"Order by a column","schema":{"type":"string"}},{"name":"sort","in":"query","description":"desc or asc","schema":{"type":"string"}}],"responses":{"200":{"description":"Returns response object","content":{"application\/json":{"schema":{}}}}},"security":[{"authorization_token":[]}]}}},"externalDocs":{"description":"Find out more about Timbala","url":"https:\/\/timbala.now.sh"},"components":{"securitySchemes":{"authorization_token":{"type":"apiKey","description":"A short description for security scheme","name":"Authorization","in":"header"}}}}